{% extends "base.html" %}
{% import "macros.html" as forms %}

{% block title %}Forgot Password - Forklift Repair Logging System{% endblock %}

{% block header_title %}Password Recovery{% endblock %}

{% block content %}
<section class="auth-form-section">
    <div class="auth-container">
        {% if error %}
        <div class="error-message">
            <p>{{ error }}</p>
        </div>
        {% endif %}
        
        {% if success %}
        <div class="success-message">
            <p>{{ success }}</p>
            <p><a href="/auth/login">Return to login</a></p>
        </div>
        {% else %}
        <p class="form-description">Enter your email address and we'll send you a link to reset your password.</p>
        
        <form action="/auth/forgot-password" method="post" class="auth-form">
            {{ forms.input_field("email", "Email", "email") }}
            
            <div class="form-actions">
                {{ forms.submit_button("Send Recovery Link") }}
            </div>
            
            <div class="form-links">
                <a href="/auth/login" class="back-to-login-link">Back to Login</a>
            </div>
        </form>
        {% endif %}
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Focus on email field when page loads
    document.addEventListener('DOMContentLoaded', function() {
        const emailField = document.getElementById('email');
        if (emailField) emailField.focus();
    });
</script>
{% endblock %}